<h1>Listing unions</h1>

<table class="admin-table">
  <thead>
    <tr>
      <th>Marriages</th>    
      <th><%= link_to 'Date', all_unions_by_uid_path( marriage_sorted: true ) %></th>    
      <th>Husband</th>
      <th>Wife</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @unions.each do |union| %>
      <tr>
        <td></td>
        <td><%= link_to( truncate( (union.marriage ? 
        ( union.marriage.date ? union.marriage.date : 'w/o date' ) : 'unknown'), length: 20 ), 
                       union_by_uid_path( union.uid) ) %></td>
        <td><%= union.husband ? 
                   link_to( truncate( union.husband.pretty_name(is_user?), length: 30), 
                            individual_by_uid_path( union.husband.uid) ) : '' %></td>
        <td><%= union.wife ? 
                   link_to( truncate( union.wife.pretty_name(is_user?), length: 30), 
                            individual_by_uid_path( union.wife.uid) ) : '' %>  </td>                          
        <td>&nbsp; &nbsp; <small> <%= union.uid %></small></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= render partial: "geni/footer" %>